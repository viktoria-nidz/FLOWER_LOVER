"use strict";(self["webpackChunkflower_lover"]=self["webpackChunkflower_lover"]||[]).push([[994],{5236:function(e,t,i){i.r(t),i.d(t,{default:function(){return be}});var r=i(3396),a=i(9242),n=i(7139);const s=e=>((0,r.dD)("data-v-bdfb5074"),e=e(),(0,r.Cn)(),e),l={class:"stains_overlay"},o={class:"flower-overlay"},c=(0,r.uE)('<header id="header" data-v-bdfb5074><div class="container" data-v-bdfb5074><div class="flower_front" data-v-bdfb5074></div><div class="center_block" data-v-bdfb5074><div class="first_title_line" data-v-bdfb5074>оформлення</div><div class="second_title_line" data-v-bdfb5074>замовленння</div></div></div></header>',1),d={class:"order_info"},m={class:"container"},_={class:"form_wrap"},h=s((()=>(0,r._)("div",{class:"title_main"},"оформлення замовленння",-1))),p=s((()=>(0,r._)("div",{class:"sup_title"},"Контактні дані",-1))),u={class:"form_input"},v=s((()=>(0,r._)("label",{for:"name"},"Ваше ім'я*",-1))),b={class:"warning"},y={class:"form_input"},f=s((()=>(0,r._)("label",{for:"phone-number"},"Ваш телефон*",-1))),w={class:"warning"},g={class:"form_input"},k=s((()=>(0,r._)("label",{for:"email"},"Ваш e-mail*",-1))),x={class:"warning"},C={class:"form_input"},I=s((()=>(0,r._)("label",{for:"phone-number"},"Телефон отримувача (необов'язково)",-1))),E={class:"warning"},F={class:"form_input"},S=s((()=>(0,r._)("label",{for:"name"},"Ім'я отримувача (необов'язково)",-1))),V={class:"warning"},U={class:"form_input comment"},z=s((()=>(0,r._)("label",{for:"comment"},"Коментар до замовленння",-1))),N={class:"warning"},A=s((()=>(0,r._)("div",{class:"sup_title"},"ДОСТАВКА",-1))),O={class:"form_radio"},D={class:"radio"},P={class:"radio"},T={key:0,class:"delivery_info"},B={class:"form_input"},J=s((()=>(0,r._)("label",{for:"city"},"Місто*",-1))),M={class:"warning"},H={class:"form_input"},R=s((()=>(0,r._)("label",{for:"street"},"Вулиця*",-1))),$={class:"warning"},q={class:"small_input_wrap"},G={class:"form_input small"},L=s((()=>(0,r._)("label",{for:"house"},"Будинок",-1))),Q={class:"warning"},W={class:"form_input small"},Z=s((()=>(0,r._)("label",{for:"entrance"},"Під'їзд",-1))),j={class:"warning"},Y={class:"form_input small"},K=s((()=>(0,r._)("label",{for:"flat"},"Квартира",-1))),X={class:"warning"},ee={class:"form_input set_time"},te=s((()=>(0,r._)("label",{for:"time"},"Час доставки",-1))),ie={class:"warning"},re={class:"shipping_price"},ae={class:"to_pay title_main"},ne={type:"submit",class:"standart_green_btn to_pay_btn"},se={key:0},le={class:"cart_side"},oe=s((()=>(0,r._)("div",{class:"title_cart"},"Ваше замовлення:",-1))),ce=s((()=>(0,r._)("div",{class:"cart_item"},null,-1)));function de(e,t,i,s,de,me){const _e=(0,r.up)("cartItem"),he=(0,r.Q2)("maska");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",o,[c,(0,r._)("main",null,[(0,r._)("section",d,[(0,r._)("div",m,[(0,r._)("div",_,[h,p,(0,r._)("form",{onSubmit:t[31]||(t[31]=(0,a.iM)(((...e)=>me.checkAndSend&&me.checkAndSend(...e)),["prevent"]))},[(0,r._)("div",u,[v,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>de.name=e),onFocus:t[1]||(t[1]=e=>me.resetError("name")),tabindex:"1",type:"text",id:"name",name:"name",class:(0,n.C_)({is_invalid:""!==de.errors.name}),placeholder:"Введіть ваше ім'я"},null,34),[[a.nr,de.name]]),(0,r._)("div",b,(0,n.zw)(de.errors.name),1)]),(0,r._)("div",y,[f,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>de.phone=e),onFocus:t[3]||(t[3]=e=>me.resetError("phone")),placeholder:"### ## ### ## ##",class:(0,n.C_)({is_invalid:""!==de.errors.phone}),tabindex:"2",type:"tel",id:"phone-number",name:"phone-number"},null,34),[[a.nr,de.phone],[he,"### ## ### ## ##"]]),(0,r._)("div",w,(0,n.zw)(de.errors.phone),1)]),(0,r._)("div",g,[k,(0,r.wy)((0,r._)("input",{class:(0,n.C_)({is_invalid:""!==de.errors.email}),"onUpdate:modelValue":t[4]||(t[4]=e=>de.email=e),onFocus:t[5]||(t[5]=e=>me.resetError("email")),tabindex:"3",type:"email",id:"email",name:"email",placeholder:"Введіть вашу пошту"},null,34),[[a.nr,de.email]]),(0,r._)("div",x,(0,n.zw)(de.errors.email),1)]),(0,r._)("div",C,[I,(0,r.wy)((0,r._)("input",{tabindex:"4",type:"tel",class:(0,n.C_)({is_invalid:""!==de.errors.recipient_phone}),"onUpdate:modelValue":t[6]||(t[6]=e=>de.recipient_phone=e),onFocus:t[7]||(t[7]=e=>me.resetError("recipient_phone")),id:"phone-number",name:"phone-number",placeholder:"### ## ### ## ##"},null,34),[[a.nr,de.recipient_phone],[he,"### ## ### ## ##"]]),(0,r._)("div",E,(0,n.zw)(de.errors.recipient_phone),1)]),(0,r._)("div",F,[S,(0,r.wy)((0,r._)("input",{class:(0,n.C_)({is_invalid:""!==de.errors.recipient_name}),"onUpdate:modelValue":t[8]||(t[8]=e=>de.recipient_name=e),onFocus:t[9]||(t[9]=e=>me.resetError("recipient_name")),tabindex:"5",type:"text",id:"name",name:"name",placeholder:"Введіть ім'я отримувача"},null,34),[[a.nr,de.recipient_name]]),(0,r._)("div",V,(0,n.zw)(de.errors.recipient_name),1)]),(0,r._)("div",U,[z,(0,r.wy)((0,r._)("input",{class:(0,n.C_)({is_invalid:""!==de.errors.comment}),"onUpdate:modelValue":t[10]||(t[10]=e=>de.comment=e),onFocus:t[11]||(t[11]=e=>me.resetError("comment")),tabindex:"6",type:"text",id:"comment",name:"comment",placeholder:"Примітки до замовлення, особливі побажання відділу доставки"},null,34),[[a.nr,de.comment]]),(0,r._)("div",N,(0,n.zw)(de.errors.comment),1)]),A,(0,r._)("div",O,[(0,r._)("div",D,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>de.delivery_method=e),tabindex:"7",type:"radio",name:"delivery",id:"selfPickup",value:"selfPickup",onClick:t[13]||(t[13]=e=>this.delivery=!1),checked:""},null,512),[[a.G2,de.delivery_method]]),(0,r._)("label",{for:"selfPickup",onClick:t[14]||(t[14]=e=>this.delivery=!1)}," Самовивіз")]),(0,r._)("div",P,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>de.delivery_method=e),onClick:t[16]||(t[16]=e=>this.delivery=!0),tabindex:"8",type:"radio",id:"courier",value:"courier",name:"delivery"},null,512),[[a.G2,de.delivery_method]]),(0,r._)("label",{onClick:t[17]||(t[17]=e=>this.delivery=!0),for:"courier"},"Доставка кур'єром")])]),this.delivery?((0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("div",B,[J,(0,r.wy)((0,r._)("input",{class:(0,n.C_)({is_invalid:""!==de.errors.city}),"onUpdate:modelValue":t[18]||(t[18]=e=>de.city=e),onFocus:t[19]||(t[19]=e=>me.resetError("city")),tabindex:"9",type:"text",id:"city",name:"city",placeholder:"Введіть місто"},null,34),[[a.nr,de.city]]),(0,r._)("div",M,(0,n.zw)(de.errors.city),1)]),(0,r._)("div",H,[R,(0,r.wy)((0,r._)("input",{class:(0,n.C_)({is_invalid:""!==de.errors.street}),"onUpdate:modelValue":t[20]||(t[20]=e=>de.street=e),onFocus:t[21]||(t[21]=e=>me.resetError("street")),tabindex:"10",type:"text",id:"street",name:"street",placeholder:"Введіть вулицю"},null,34),[[a.nr,de.street]]),(0,r._)("div",$,(0,n.zw)(de.errors.street),1)]),(0,r._)("div",q,[(0,r._)("div",G,[L,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>de.house=e),tabindex:"11",onFocus:t[23]||(t[23]=e=>me.resetError("house")),type:"text",id:"house",name:"house",placeholder:"Номер будинку"},null,544),[[a.nr,de.house]]),(0,r._)("div",Q,(0,n.zw)(de.errors.house),1)]),(0,r._)("div",W,[Z,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>de.entrance=e),onFocus:t[25]||(t[25]=e=>me.resetError("entrance")),tabindex:"12",type:"text",id:"entrance",name:"entrance",placeholder:"Номер під'їзду"},null,544),[[a.nr,de.entrance]]),(0,r._)("div",j,(0,n.zw)(de.errors.entrance),1)]),(0,r._)("div",Y,[K,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>de.flat=e),onFocus:t[27]||(t[27]=e=>me.resetError("flat")),tabindex:"13",type:"text",id:"flat",name:"flat",placeholder:"Номер квартири"},null,544),[[a.nr,de.flat]]),(0,r._)("div",X,(0,n.zw)(de.errors.flat),1)])]),(0,r._)("div",ee,[te,(0,r.wy)((0,r._)("input",{class:(0,n.C_)({is_invalid:""!==de.errors.time}),"onUpdate:modelValue":t[28]||(t[28]=e=>de.time=e),onFocus:t[29]||(t[29]=e=>me.resetError("time")),type:"time",id:"time",name:"time",min:"07:00",max:"24:00"},null,34),[[a.nr,de.time]]),(0,r._)("div",ie,(0,n.zw)(de.errors.time),1)])])):(0,r.kq)("",!0),(0,r._)("div",re," Вартість доставки: "+(0,n.zw)(this.delivery_price)+" UAN ",1),(0,r._)("div",ae," Загальна сума замовлення: "+(0,n.zw)(this.total)+" UAN ",1),(0,r._)("button",ne,[this.valid?((0,r.wg)(),(0,r.iD)("span",{key:1,onClick:t[30]||(t[30]=t=>e.$router.push("/PaymentProcess"))}," ДО ОПЛАТИ")):((0,r.wg)(),(0,r.iD)("span",se," ДО ОПЛАТИ"))])],32)]),(0,r._)("div",le,[oe,(0,r._)("div",{class:"cart_body",onClick:t[32]||(t[32]=e=>me.checkChanges())},[(0,r.Wm)(_e),ce])])])])])])])}var me=i(6265),_e=i.n(me),he=i(5546),pe={name:"PlacingOrder",components:{cartItem:he.Z},data(){return{API_BOT_ID:"5304811755:AAGAlQLe6tex_5H-dDWBO1oI4Ytwb0CMpVk",CHAT_ID:"-1001688345339",valid:!1,cart:[],delivery:!1,name:"",phone:"",email:"",recipient_name:"",recipient_phone:"",comment:"",delivery_method:"",city:"",checkValid:!1,street:"",house:0,flat:0,entrance:0,time:"",errors:{name:"",phone:"",email:"",recipient_name:"",recipient_phone:"",comment:"",delivery_method:"",city:"",street:"",house:"",flat:"",entrance:"",time:""}}},computed:{delivery_price(){return"Київ"===this.city?50:150},total(){let e=0;return this.cart.forEach((t=>{e+=t.total})),e+this.delivery_price}},created(){_e().get("data/flowers.json").then((e=>{this.flowers=e.data,this.cart=JSON.parse(localStorage.getItem("products in cart"))||[]}))},watch:{selected:{handler:function(){this.sortByMarks()}}},methods:{checkChanges(){this.cart=JSON.parse(localStorage.getItem("products in cart"))||[]},checkAndSend(){let e=!0;if(""===this.name&&(this.errors.name="Введіть своє ім'я!",e=!1),1===this.name.length&&(this.errors.name="Мінімальна довжина імені 2 символа!",e=!1),""===this.email?(this.errors.email="Введіть email!",e=!1):/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(this.email)&&(this.errors.email="Введіть валідний email!",e=!1),(""===this.phone||this.phone.length<12)&&(this.errors.phone="Введіть свій валідний телефон!",e=!1),"courier"===this.delivery_method&&(""===this.city&&(this.errors.city="Введіть місто!",e=!1),""===this.street&&(this.errors.street="Введіть вулицю",e=!1)),e){this.valid=!0;const e="<i>ORDER INFORMATION:</i>%0a<b>Name:</b>"+this.name+"%0a<b>Email:</b>"+this.email+"%0a<b>Phone Number:</b>"+this.phone+"%0a<b>Recipient name :</b>"+this.recipient_name+"%0a<b>Recipient phone :</b>"+this.recipient_phone+"%0a<b>Comment :</b>"+this.comment+"%0a<b>Delivery method :</b>"+this.delivery_method+"%0a<b>City :</b>"+this.city+"%0a<b>Street:</b>"+this.street+"%0a<b>House:</b>"+this.house+NaN+this.flat+"%0a<b>Entrance:</b>"+this.entranse+"%0a<b>Time:</b>"+this.time;fetch(`https://api.telegram.org/bot${this.API_BOT_ID}/sendMessage?chat_id=${this.CHAT_ID}&text=${e}&parse_mode=HTML`).then((e=>{e.ok&&(this.name=this.email=this.phone=this.recipient_name=this.recipient_phone=this.comment=this.delivery_method=this.city=this.street=this.house=this.flat=this.entranse=this.time="")}))}},resetError(e){this.errors[e]=""},isValidEmail(e){if(""===e)return Boolean()},addToCart(e,t,i){let r=1;if(void 0===this.cart.find((t=>t.id===e)))this.cart.push({name:i,id:e,qty:r,isBuy:!1,price:t,total:parseFloat((r*t).toFixed(2))}),localStorage.setItem("products in cart",JSON.stringify(this.cart)),this.cart=JSON.parse(localStorage.getItem("products in cart"))||[];else{if(void 0!==this.cart.findIndex((t=>t.id===e))){const t=this.cart.findIndex((t=>t.id===e)),i=this.cart[t].qty+1;this.cart[t].qty=i,this.cart[t].total=parseFloat((i*this.cart[t].price).toFixed(2))}localStorage.setItem("products in cart",JSON.stringify(this.cart)),this.cart=JSON.parse(localStorage.getItem("products in cart"))||[]}}}},ue=i(89);const ve=(0,ue.Z)(pe,[["render",de],["__scopeId","data-v-bdfb5074"]]);var be=ve}}]);
//# sourceMappingURL=994.dae4a6d1.js.map